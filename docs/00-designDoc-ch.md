# DFCoin: 自設計加密貨幣

## 系統架構

| 模組 | 說明 |
|------|------|
| 區塊鏈核心 | 區塊結構、鏈串接、防篡改驗證、創世區塊 |
| 加密貨幣模型（GoCoin） | 模仿 Bitcoin，實作 **UTXO** 架構、交易驗證、交易池 |
| 共識演算法（Proof of Work） | PoW 挖礦難度調整、區塊合法性驗證 |
| 錢包 | 基於 ECDSA 公私鑰產生地址、交易簽名驗證 |
| 節點 | 可部署多個節點、彼此同步區塊、傳播交易和區塊 |
| P2P 網路（簡易） | 節點間互通訊息、自動同步最新鏈與交易（可用 libp2p / TCP） |
| API（REST + CLI） | 使用者發送交易、查詢區塊鏈、查看餘額 |
| 區塊瀏覽器（可選） | Web 前端展示區塊、交易、挖礦狀態（支援用 React/Vue 開發） |

## 最終目標

- 區塊鏈核心
  - 區塊內含：交易列表、前一區塊 hash、時間戳、難度、Nonce、Merkle root
  - 自動難度調整機制
  - 防止雙重支付
- 加密貨幣機制
  - 完整 UTXO 模型（Unspent Transaction Outputs）
  - 支援轉帳、找零、多筆輸入輸出交易
  - 支援交易池（交易在未被打包前暫存在 mempool）
- 錢包與地址
  - 使用 ECDSA 金鑰對（Go 的 crypto/ecdsa）
  - Base58 編碼錢包地址（與 Bitcoin 相同格式）
  - 用戶可產生私鑰 / 公鑰 / 地址
  - 可簽署交易與驗證簽章
- 共識與挖礦
  - 基礎 Proof of Work 挖礦
  - 動態調整難度（根據過去 N 個區塊平均時間）
  - 礦工可打包交易並獲得區塊獎勵
- 節點網路
  - 多節點同步機制（TCP / HTTP 傳輸）
  - 節點自動下載最新鏈
  - 交易與區塊的 Gossip 傳播
- RESTful API & CLI
  - /createwallet
  - /getbalance/:address
  - /send（from, to, amount）
  - /mine
  - /chain 查詢目前完整區塊鏈
- 測試與展示
  - 建立三個節點互相同步資料
  - 發送多筆交易並觀察如何被打包進區塊
  - 整個系統可本地運作、無外部依賴

## 關鍵技術

| 功能 | 對應工程技能 |
| - | - |
| UTXO 模型 | 真實比特幣帳本邏輯，非帳號餘額式 |
| ECDSA 簽名與驗證 | 加密學應用，與真實錢包、交易驗證相同 |
| Proof of Work | 共識機制與挖礦算法基礎 |
| P2P 通訊 | 去中心化資料同步思維 |
| RESTful + CLI 工具 | 系統介面完整，適合展示作品 |
| 多節點資料一致性 | 區塊鏈網路關鍵能力（可擴展到 DHT, Raft, libp2p） |

## 分階段設計

| 階段 | 功能與任務 | 難度 |
| - | - | - |
| 第 1 階段 | 區塊鏈資料結構 + 挖礦 + CLI | ⭐⭐ |
| 第 2 階段 | UTXO 模型 + 多筆交易支援 + 錢包 | ⭐⭐⭐ |
| 第 3 階段 | 整合 API / RESTful Server | ⭐⭐⭐  |
| 第 4 階段 | 多節點資料同步 + P2P 簡易通訊 | ⭐⭐⭐⭐ |
| 第 5 階段 | 加上動態難度 + 區塊獎勵 + 完整交易驗證流程 | ⭐⭐⭐⭐ |
| 第 6 階段 | 打包成展示專案 + README + CLI Demo | ⭐⭐ |

## 延伸設計

- 支援 Merkle Tree、SPV 輕節點
- 模擬智能合約執行邏輯（簡化 VM）
- 區塊獎勵減半機制（模仿 Bitcoin Halving）
- 整合 React 做一個簡易「GoScan」（區塊瀏覽器）
- 實作簡易 DHT（去中心節點發現）

## 外部參考

- [設計文件-ChatGPT](https://chatgpt.com)
